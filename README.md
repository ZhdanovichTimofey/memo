# Инструкция пользователя:
Для того, чтобы воспользоваться нашим приложение, зайдите в tg-бот @mipt_transcribot и отправьте в него файл
размером не более 20 мб в одном из следующих форматов: mp4, mp3, wav, ogg. Приложение работает сегодня
(3 декабря) до 14:00, после этого времени, если у вас возникнет желание воспользоваться нашим ботом,
пишите @Maryprot

# Техническое описание проекта:
На текущий момент наш продукт состоит из следующих частей:
1)	В качестве фронтенда мы используем TG-бот, который способен принимать файлы в форматах mp4, mp3, wav, ogg. В качестве ответа на запрос он возвращает полную транскрипцию файла разделением по спикерам, а также суммаризацию полученного текста. Использование бота в качестве фронтенда накладывает на нас ограничение - на текущий момент мы не способны принять файл больше 20 мб размером, хотя техническая возможность по его обработке у нас есть.
В качестве бэкенда мы используем приложение на python. Запросы обрабатываем с помощью фреймворка flask. Запросы на обработку аудиозаписей ставятся в очередь и обрабатываются последовательно. В случае наличия клиентов в очереди в бот отправляется сообщение, уведомляющее о длине очереди. Теперь рассмотрим что происходит с отдельной аудиозаписью, попавшей на сервер. Сначала она проходит транскрипцию, то есть перевод из аудио в текст. Мы это делаем с помощью нейронов сети Whisper от OpenAI, которая возвращает текст и временные метки начал и конца каждого предложения. Также файл проходит через диаризатор от HuggingFace speaker-diarization-3.0, который возвращает временные метки начала и конца каждой фразы, а также метки спикеров, произносящих эти фразы. Далее мы объединяем эти результаты и получаем на выходе текстовый файл с разметкой фраз по спикерам. После этого мы используем GigaChat с заданным промтом для получение суммаризации получившегося текста. Из-за ограничения на длину запроса мы разбиваем текст на несколько частей, проводим суммаризацию по каждой части отдельно, а затем склеиваем получившиеся результаты. Далее файлы с полной транскрибацией и полученной суммаризацией отправляются клиенту как ответа бота

# Инструкция по разворачиванию приложения на сервере:
Для запуска требуется минимум 12 гб оперативной памяти и 12 гб видеопамяти

Перед запуском необходимо в созданном под проект виртуальном окружении прописать:
pip install -r requirements.txt

Для запуска приложения:
python server.py
